if("undefined"==typeof jQuery)throw new Error("jQuery is required");!function(e,t){var n=function(t){this.config={},this.options=e.extend(this.config,t||{})};Function.prototype.inherits=function(e){var t=function(){};t.prototype=e.prototype;var n=new t;for(var i in this.prototype)n[i]=this.prototype[i];this.prototype=n,this.prototype.super=e.prototype},n.prototype={},t.Skeleton=n}(jQuery,window),function(e,t){var n=0,i=function(e){var i={elem:"",total:360,current:5,middlePage:5,pageSize:10,next:"下一页",prev:"上一页",first:"首页",last:"尾页",skip:!0};n++,this.config=t.extend(i,e||{}),this.elem=t(this.config.elem),this.renderPage(),this.bindEvent()};i.inherits(e),i.prototype={calculatePages:function(){var e=this.config,t=e.current,n=e.middlePage,i=e.pageSize,s=e.total,a=Math.ceil(s/i),o=0,r=0,c=[],p="page-item ",l="page-item ";return t<n?(o=1,r=n):t>=a-Math.ceil(n/2)?(o=a-n,r=a):(o=t-Math.floor(n/2),r=t+Math.floor(n/2),!(1&n)&&r--),r>a&&(r=a),o>2&&(p+=e.first?"page-edge":"",c.push('<span class="'+p+'"  key="1" >'+(e.first?e.first:1)+"</span>"),c.push('<span class="page-dot">...</span>')),this.range(o,r+1).map(function(e,n){c.push('<span   class="'+(e==t?"page-item page-curr":"page-item")+(0==n?" page-edge":"")+'" key="'+e+'">'+e+"</span>")}),r!=a&&(l+=e.last?"page-edge":"",c.push('<span  class="page-dot">...</span>'),c.push('<span class="'+l+'"  key="'+a+'">'+(e.last?e.last:a)+"</span>")),c},range:function(e,t){var n,e=e||0,i=t-e,s=Array(i);for(n=0;n<i;n++,e++)s[n]=e;return s},bindEvent:function(){var e=this,t=this.config;e.elem.on("click",".page-item",function(){var t=1*this.getAttribute("key");e.jumpPage(t)}),t.next&&e.elem.on("click",".page-next",function(){e.nextPage()}),t.prev&&e.elem.on("click",".page-prev",function(){e.prevPage()}),t.skip&&e.elem.on("click",".page-skip-btn",function(){var t=1*e.elem.find(".page-skip-input").val();!t||t>e.getPages()||e.jumpPage(t)})},prevPage:function(){this.config.current<=1||(this.config.current--,this.renderPage(),this.handleChange())},nextPage:function(){var e=this.getPages();this.config.current>=e||(this.config.current++,this.renderPage(),this.handleChange())},getPages:function(){return Math.ceil(this.config.total/this.config.pageSize)},jumpPage:function(e){e!=this.config.current&&(this.config.current=e,this.renderPage(),this.handleChange())},renderPage:function(){var e=[],t=this.config,n="page-next ",i="page-prev ",s=t.current,a=this.getPages();t.prev&&(i+=1==s?"page-disabled":"",e.push('<span  class="'+i+'">'+t.prev+"</span>")),e=e.concat(this.calculatePages()),t.next&&(n+=s==a?"page-disabled":"",e.push('<span  class="'+n+'">'+t.next+"</span>")),t.skip&&e.push(this.renderSkip()),this.elem.html(e.join(""))},renderSkip:function(){var e="";this.config;return e+='<span class="page-skip">',e+='<input type="number" min="1" class="page-skip-input"/>',e+='<button type="button" class="page-skip-btn">跳转</button>',e+="</span>",[e]},handleChange:function(){"function"==typeof this.config.onChange&&this.config.onChange.call(this,{current:this.config.current,total:this.config.total,size:this.config.pageSize})}},e.page=function(e){return new i(e)}}(Skeleton,jQuery),function(e,t){var n=0,i=function(e){var i={elem:"",index:""};this.config=t.extend(i,e||{}),this.elem=t(this.config.elem).eq(0),this.index=++n,this.init()};i.inherits(e);i.prototype={init:function(){this.buildTemplate(),this.bindEvent(),this.setDefaultOpt()},getDefaultOpt:function(){var e=this,n={};return this.elem.find("option").each(function(i,s){if(void 0!==t(s).attr("selected"))return n.value=s.innerHTML,void(n.index=e.selectedIndex=i)}),n},setDefaultOpt:function(){var e=this.getDefaultOpt.index;void 0!==e&&this.selectList.find(".option").eq(e).trigger("click")},buildTemplate:function(){var e=this,n=this.getDefaultOpt(),i='<div class="sk-select-list" index="'+e.index+'">',s="";e.elem.find("option").each(function(e,n){var i=t(n).html()||"";s+='<li class="option" >'+i+"</li>"}),i+='<span class="select-status"><span class="selected-text">'+n.value+'</span><i class="icon"></i></span>',i+='<ul class="options">',i+=s+"</ul></div>",e.elem.hide().after(i),e.setSelectList()},setSelectList:function(){this.selectList=this.elem.siblings(".sk-select-list")},bindEvent:function(){var e=this,n=e.elem,i=this.selectList;i.find(".select-status").on("click",function(e){var n=this,s=t("this").attr("index");t(".sk-select-list").each(function(e,n){e!=s&&t(n).removeClass("opened")}),function e(){t(document).one("click",function(s){var a=s||window.event;if(t(a.target).closest(".select-status")[0]===n)return void e();i.removeClass("opened")})}(),i.toggleClass("opened")}),i.find(".option").on("click",function(){var e=t(this).index();n.attr({"data-value":t(this).attr("data-value"),"data-text":t(this).text()}),n.find("option").eq(e).attr("selected",!0).siblings("option").removeAttr("selected"),n.trigger("change"),i.find(".option").removeClass("selected"),i.removeClass("opened").find(".selected-text").text(t(this).text()),t(this).addClass("selected")})}},e.select=function(e){return new i(e)}}(Skeleton,jQuery);